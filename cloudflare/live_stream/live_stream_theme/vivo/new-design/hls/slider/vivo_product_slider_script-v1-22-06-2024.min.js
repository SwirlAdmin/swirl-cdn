/**
 * Minified by Swirl
 * Original file:/live_stream/live_stream_theme/vivo/new-design/hls/slider/vivo_product_slider_script-v13.js
 */
function SLSsetHeight(){let e=window.innerHeight;$(".SLS-main-conatiner").height(e)}$(document).ready((function(){if($(window).width()>768)$("#SWIRLhearts-mobile").hide(),$("#SWIRLhearts-web").show(),setTimeout((()=>{$(".SLS-control-panel .SLS-show-products").click(),$(".SLS-show-comments").click(),$(".SLS-comments-all").html($(".SLS-comments-all").find(".new").get().reverse()),pinheightweb()}),5e3);else{if($("#SWIRLhearts-web").hide(),$("#SWIRLhearts-mobile").show(),setTimeout((()=>{$(".SLS-comments-all").html($(".SLS-comments-all").find(".new").get().reverse())}),5e3),$("#Offers").hide(),"0000-00-00 00:00:00"!=$("#end_time").val()){var e=actionbar_size+recordingcontrol_size;$("#bottom-showcase-products").css("bottom",e)}""==$("#product_ids").val()&&($(".SLS-show-products").closest(".position-relative").removeClass("d-inline"),$(".SLS-show-products").closest(".position-relative").hide())}SLSsetHeight()})),$(window).resize((function(){SLSsetHeight()}));var hlsUrl=$("#live_stream_url").val(),player=document.getElementById("livestreambro"),hls=new Hls,startTime=$("#shareTime").val();Hls.isSupported()?(""!=startTime&&(hls.config.startPosition=parseFloat(startTime)),hls.loadSource(hlsUrl),hls.attachMedia(player),hls.on(Hls.Events.MANIFEST_PARSED,(function(){player.play()})),hls.on(Hls.Events.FRAG_LOADED,(function(){$(".current").text(time_format(player.currentTime)),$(".duration").text(time_format(player.duration))})),"undefined"!=typeof mux&&mux.monitor(player,{debug:!1,hlsjs:hls,Hls:Hls,data:{env_key:"k3lqqflvf5vkmhq7ct2pi1f0p",player_name:"Main Player",player_init_time:window.muxPlayerInitTime}})):player.canPlayType("application/vnd.apple.mpegurl")?(player.src=hlsUrl,player.addEventListener("loadedmetadata",(function(){player.play()}))):console.error("HLS.js is not supported, and the browser does not support native HLS playback.");var actionbar_size=56,end_time=$("#end_time").val(),product_ids=$("#product_ids").val();if("0000-00-00 00:00:00"!=end_time)var recordingcontrol_size=36;else{$(".messages-pin-mobile").css("bottom","56px");recordingcontrol_size=0}function time_format(e){var t=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60);return t+":"+(Math.floor(e-60*t)<10?"0"+Math.floor(e-60*t):Math.floor(e-60*t))}function doFirst(){barSize=$("#defaultBar").width(),$("#defaultBar").css("width",barSize),myVideo=document.getElementById("livestreambro"),playButton=document.getElementById("playButton"),playButton_mobile=document.getElementById("playButton-mobile"),icon=document.getElementById("play-pause-icon"),icon_mobile=document.getElementById("play-pause-icon-mobile"),defaultBar=document.getElementById("defaultBar"),progressBar=document.getElementById("progressBar"),defaultBar_mobile=document.getElementById("defaultBar-mobile"),progressBar_mobile=document.getElementById("progressBar-mobile"),playButton.addEventListener("click",playOrPause,!1),defaultBar.addEventListener("click",clickedBar,!1),playButton_mobile.addEventListener("click",playOrPauseMobile,!1),defaultBar_mobile.addEventListener("click",clickedBar_mobile,!1),$(".current").text(time_format(0)),$(".duration").text(time_format(player.duration)),updateBar=setInterval(update,500),updateBar=setInterval(updateMobile,500)}function playOrPause(){myVideo.paused||myVideo.ended?(myVideo.play(),icon.className="fa fa-pause",updateBar=setInterval(update,500)):(myVideo.pause(),icon.className="fa fa-play",window.clearInterval(updateBar))}function playOrPauseMobile(){myVideo.paused||myVideo.ended?(myVideo.play(),icon_mobile.className="fa fa-pause",updateBar=setInterval(updateMobile,500)):(myVideo.pause(),icon_mobile.className="fa fa-play",window.clearInterval(updateBar))}function update(){if(myVideo.ended)progressBar.style.width="0px",icon.className="fa fa-pause",window.clearInterval(updateBar);else{barSize=$("#defaultBar").width(),$("#defaultBar").css("width",barSize);var e=parseInt(myVideo.currentTime*barSize/myVideo.duration);progressBar.style.width=e+"px"}}function updateMobile(){if(myVideo.ended)progressBar.style.width="0px",icon_mobile.className="fa fa-pause",window.clearInterval(updateBar);else{barSize=$("#defaultBar-mobile").width(),$("#defaultBar-mobile").css("width",barSize);var e=parseInt(myVideo.currentTime*barSize/myVideo.duration);progressBar_mobile.style.width=e+"px"}}function clickedBar(e){if(!myVideo.paused&&!myVideo.ended){barSize=$("#defaultBar").width(),$("#defaultBar").css("width",barSize);var t=e.pageX-$("#defaultBar").offset().left,a=t*myVideo.duration/barSize;myVideo.currentTime=a,progressBar.style.width=t+"px"}}function clickedBar_mobile(e){if(!myVideo.paused&&!myVideo.ended){barSize=$("#defaultBar-mobile").width(),$("#defaultBar-mobile").css("width",barSize);var t=e.pageX-$("#defaultBar-mobile").offset().left,a=t*myVideo.duration/barSize;myVideo.currentTime=a,progressBar_mobile.style.width=t+"px"}}function SWIRLHeartFlaws(){var e=Math.floor(100*Math.random()+1),t=(Math.random()*(1.6-1.2)+1.2).toFixed(1);$('<div class="SWIRLheart part-'+e+" "+["colOne","colTwo","colThree","colFour","colFive","colSix"][Math.floor(6*Math.random())]+'" style="font-size:'+Math.floor(28*Math.random()+22)+'px;"><span></span></div>').appendTo(".SWIRLhearts").css({animation:["flowOne","flowTwo","flowThree"][Math.floor(3*Math.random())]+" "+t+"s linear"}),$(".part-"+e).show(),setTimeout((function(){$(".part-"+e).remove()}),900*t)}function showcase_products(e){if($(window).width()<768)if($(".SLS-products-panel").is(":visible"))$(".SLS-products-panel-close").click();else{var t=$(e).attr("data-proid");if($(window).width()<768){let e=$(".messages-pin-mobile").height()+actionbar_size+recordingcontrol_size;$(".SLS-products-panel").css("bottom",e),$(".SLS-comments-panel-close").click(),$(".SLS-share-panel-close").click(),$(".SLS-ask-panel-close").click()}$(".SLS-products-panel").show(),setTimeout((()=>{let e=$(window).width()>768?"translateX(0%)":"translateY(0%)";$(".SLS-products-panel").css("transform",e)}),10),$(".SLS-products-panel").css("height","28%"),$(".SLS-product-tile").css("border-bottom","unset"),$(".SLS-added-products .SLS-product-tile").addClass("hide"),$("#pro-detail-pro-"+t).removeClass("hide")}else{t=$(e).attr("data-proid");var a=$(e).attr("data-desid"),s=$(e).attr("data-protitle"),o=$(e).attr("data-proimg"),i=$(e).attr("data-redirection"),l=$("#user_id").val(),n=$("#user_fname").val(),r=$("#user_phone").val(),d=$("#country_code").val(),c=(new Date).getTime();let m=generateString(20);db.collection("messages").doc(streamId).collection("buy_now").doc(m).set({user_id:l,country_code:d,name:n,phone:r,created_date:c,stream_id:streamId,product_id:t,product_title:s,product_image:o,product_url:i,designer_id:a}),window.open(i,"_blank")}}window.addEventListener("load",doFirst,!1),$(".message-input-mobile").keyup((function(e){$(".collapsable").css("display","table-cell"),$(".action-bar").css("display","none"),$(".message-textbox-div").css("width","90%"),$(".message-textbox-div").css("padding-right","5px")})),$(".collapsable").click((function(){$(".collapsable").css("display","none"),$(".action-bar").css("display","table-cell"),$(".message-textbox-div").css("width","50%"),$(".message-textbox-div").css("padding-right","0px")})),$(".SSV-heart-flaws-btn").on("click",(function(){($("#swirl-heart-icon").css("display","none"),$("#fill-heart").css("display","inline-block"),SWIRLHeartFlaws(),SWIRLHeartFlaws(),SWIRLHeartFlaws(),null==localStorage.getItem("heart_like"))&&(value=1,db.collection("live_streams").doc(streamId).get().then((e=>{var t=e.data().heart_like;t=null==t?0:t,t+=1,localStorage.setItem("heart_like",t),db.collection("live_streams").doc(streamId).update({heart_like:firebase.firestore.FieldValue.increment(1)})})));db.collection("live_streams").doc(streamId).get().then((e=>{var t=e.data().click_heart_like;t=null==t?0:t,t+=1,db.collection("live_streams").doc(streamId).update({click_heart_like:firebase.firestore.FieldValue.increment(1)})}))})),$(document).on("click touchstart","video",(function(){$(window).width()<768&&($(".SLS-products-panel-close").click(),$(".SLS-comments-panel-close").click(),$(".SLS-ask-panel-close").click(),$(".SLS-share-panel-close").click(),$(".SLS-offer-panel-close").click())})),$(".SLS-ask").click((function(){if($(".SLS-ask-panel").is(":visible"))$(".SLS-ask-panel-close").click();else{if($(window).width()<768){let e=$(".messages-pin-mobile").height()+actionbar_size+recordingcontrol_size;$(".SLS-ask-panel").css("bottom",e),$(".SLS-products-panel-close").click(),$(".SLS-comments-panel-close").click(),$(".SLS-offer-panel-close").click()}$(".SLS-poll-panel-close").click(),$(".SLS-share-panel-close").click(),$(".SLS-ask-panel").show(),setTimeout((()=>{$(".SLS-ask-panel").css("transform","translateY(0%)")}),10)}})),$(".SLS-ask-panel-close").click((function(){$(".SLS-ask-panel").css("transform","translateY(100%)"),setTimeout((()=>{$(".SLS-ask-panel").hide()}),500)})),$(".SLS-share").click((function(){if($(".SLS-share-panel").is(":visible"))$(".SLS-share-panel-close").click();else{if($(window).width()<768){let e=$(".messages-pin-mobile").height()+actionbar_size+recordingcontrol_size;$(".SLS-share-panel").css("bottom",e),$(".SLS-products-panel-close").click(),$(".SLS-comments-panel-close").click(),$(".SLS-offer-panel-close").click()}else 2==is_defer&&$(".SLS-share-panel").css("bottom","0px");$(".SLS-poll-panel-close").click(),$(".SLS-ask-panel-close").click(),$(".SLS-share-panel").show(),setTimeout((()=>{$(".SLS-share-panel").css("transform","translateY(0%)")}),10)}})),$(".SLS-share-panel-close").click((function(){$(".SLS-share-panel").css("transform","translateY(100%)"),setTimeout((()=>{$(".SLS-share-panel").hide()}),500)})),$(".SLS-offer").click((function(){if($(".SLS-offer-panel").is(":visible"))$(".SLS-offer-panel-close").click();else{if($(window).width()<768){let e=$(".messages-pin-mobile").height()+actionbar_size+recordingcontrol_size;$(".SLS-offer-panel").css("bottom",e),$(".SLS-products-panel-close").click(),$(".SLS-comments-panel-close").click(),$(".SLS-ask-panel-close").click(),$(".SLS-share-panel-close").click(),$(".SLS-offer-panel").show(),$(".SLS-poll-panel-close").click()}else $(".SLS-comments-panel").show(),setTimeout((()=>{$(".SLS-comments-panel").css("transform","translateY(0%)")}),10),$("#tabs-nav li").removeClass("active"),$('a[href="#Offers"]').parent().addClass("active"),$(".tab-content").hide(),$(".messages-pin").hide(),$(".SLS-panel-scroll-mcustom").hide(),$(".SLS-comment-post").hide(),$("#tabs-content #Offers").show(),$(".tabs").addClass("h-100"),$("#tabs-content").addClass("h-100"),$("#Offers").addClass("h-100");setTimeout((()=>{$(".SLS-offer-panel").css("transform","translateY(0%)")}),10)}})),$(".SLS-offer-panel-close").click((function(){$(".SLS-offer-panel").css("transform","translateY(100%)"),setTimeout((()=>{$(".SLS-offer-panel").hide()}),500)})),$(".SLS-show-products,#product_count").click((function(){if($(".SLS-products-panel").is(":visible"))$(".SLS-products-panel-close").click();else{if($(window).width()<768){let e=actionbar_size+recordingcontrol_size;$(".SLS-products-panel").css("bottom",e),$(".SLS-comments-panel-close").click(),$(".SLS-share-panel-close").click(),$(".SLS-ask-panel-close").click(),$(".SLS-offer-panel-close").click(),$(".SLS-poll-panel-close").click()}$(".SLS-products-panel").show(),setTimeout((()=>{let e=$(window).width()>768?"translateX(0%)":"translateY(0%)";$(".SLS-products-panel").css("transform",e)}),10);let e=$(window).width()>768?"100%":"50%";$(".SLS-products-panel").css("height",e),$(".SLS-added-products .SLS-product-tile").removeClass("hide")}})),$(".SLS-products-panel-close").click((function(){let e=$(window).width()>768?"translateX(100%)":"translateY(100%)";$(".SLS-products-panel").css("transform",e),setTimeout((()=>{$(".SLS-products-panel").hide()}),500)})),$(".showcase-products").click((function(){if($(window).width()<768)if($(".SLS-products-panel").is(":visible"))$(".SLS-products-panel-close").click();else{var e=$(this).attr("data-proid");if($(window).width()<768){let e=$(".messages-pin-mobile").height()+actionbar_size+recordingcontrol_size;$(".SLS-products-panel").css("bottom",e),$(".SLS-comments-panel-close").click(),$(".SLS-share-panel-close").click(),$(".SLS-ask-panel-close").click(),$(".SLS-offer-panel-close").click()}$(".SLS-products-panel").show(),setTimeout((()=>{let e=$(window).width()>768?"translateX(0%)":"translateY(0%)";$(".SLS-products-panel").css("transform",e)}),10),$(".SLS-products-panel").css("height","30%"),$(".SLS-product-tile").css("border-bottom","unset"),$(".SLS-added-products .SLS-product-tile").addClass("hide"),$("#pro-detail-"+e).removeClass("hide")}else{e=$(this).attr("data-proid");var t=$(this).attr("data-desid"),a=$(this).attr("data-protitle"),s=$(this).attr("data-proimg"),o=$(this).attr("data-redirection"),i=$("#user_id").val(),l=$("#user_fname").val(),n=$("#user_phone").val(),r=$("#country_code").val(),d=(new Date).getTime();let c=generateString(20);db.collection("messages").doc(streamId).collection("buy_now").doc(c).set({user_id:i,country_code:r,name:l,phone:n,created_date:d,stream_id:streamId,product_id:e,product_title:a,product_image:s,product_url:o,designer_id:t}),window.open(o,"_blank")}})),$(".SLS-show-comments").click((function(){if($(".SLS-comments-panel").is(":visible"))$(".SLS-comments-panel-close").click();else{if($(window).width()<768){if($("#bottom-showcase-products").is(":visible")){var e=0,t=$(".messages-pin-mobile").height();if(0!=$(".messages-pin-mobile").height())t=$(".messages-pin-mobile").height()-5.5;else e=5;var a=t+actionbar_size+recordingcontrol_size+$("#bottom-showcase-products").height()+e}else a=t+actionbar_size+recordingcontrol_size;if(2==$("#is_defer").val())a=$(".SL-schedule-timer").height()+actionbar_size+37;$(".SLS-comments-panel").css("bottom",a),$(".SLS-products-panel-close").click(),$(".SLS-share-panel-close").click(),$(".SLS-ask-panel-close").click(),$(".SLS-offer-panel-close").click(),$(".SLS-poll-panel-close").click()}$(".SLS-comments-panel").show(),setTimeout((()=>{let e=$(window).width()>768?"translateX(0%)":"translateY(0%)";$(".SLS-comments-panel").css("transform",e)}),10)}})),$(".SLS-comments-panel-close").click((function(){let e=$(window).width()>768?"translateX(-100%)":"translateY(100%)";$(".SLS-comments-panel").css("transform",e),setTimeout((()=>{$(".SLS-comments-panel").hide()}),500)}));var fbButton=document.getElementById("fb-share-button"),url=$("#copy-text").val();function copy_text(){var e=document.getElementById("copy-text");e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value),$('[data-toggle="tooltip"]').tooltip(),$("#btn-copy").html("Copied")}function otpcheck(){var e=$("#stream_id").val(),t=document.getElementById("otp").value,a=document.getElementById("otp_confirm").value,s=$("#mobile").intlTelInput("getSelectedCountryData").dialCode;if(t!=a)return $(".err_user_cpassword").html("OTP should be same.").fadeIn().delay(3e3).fadeOut(),$("#otp").focus(),!1;{$("#demo-modal-1").modal("toggle");var o=document.getElementById("name").value,i=document.getElementById("mobile").value,l=(new Date).getTime();let t=generateString(20);db.collection("messages").doc(e).collection("users").doc(t).set({user_id:t,country_code:s,name:o,phone:i,created_date:l,stream_id:e}),$("#user_id").val(t),$("#user_fname").val(o),$("#user_phone").val(i);try{localStorage.setItem("user_id",t),localStorage.setItem("user_fname",o),localStorage.setItem("user_phone",i)}catch(e){}insertMessage()}}function otpcheck_without_sp(e){if(0==e){if(""==(a=document.getElementById("name").value))return $(".error_msg").html("This is a required field.").fadeIn().delay(3e3).fadeOut(),$("#name").focus(),!1;if(a.length<3)return $(".error_msg").html("Please enter 3 latter.").fadeIn().delay(3e3).fadeOut(),$("#name").focus(),!1;{if(0==onlyAlphabets(a))return $(".error_msg").html("Name should be alphabets only").fadeIn().delay(3e3).fadeOut(),$("#name").focus(),!1;$("#demo-modal-1").modal("toggle");var t=$("#stream_id").val(),a=document.getElementById("name").value,s=(new Date).getTime();let o=generateString(20);db.collection("messages").doc(t).collection("users").doc(o).set({user_id:o,name:a,created_date:s,stream_id:t}),$("#user_id").val(o),$("#user_fname").val(a);try{localStorage.setItem("user_id",o),localStorage.setItem("user_fname",a)}catch(e){}insertMessage()}}else{a=document.getElementById("name").value;var o=document.getElementById("mobile").value;if(""==a)return $(".error_msg").html("This is a required field.").fadeIn().delay(3e3).fadeOut(),$("#name").focus(),!1;if(a.length<3)return $(".error_msg").html("Please enter 3 latter.").fadeIn().delay(3e3).fadeOut(),$("#name").focus(),!1;if(""==o)return $(".error_msg").html("This is a required field.").fadeIn().delay(3e3).fadeOut(),$("#mobile").focus(),!1;if(o.length<10||o.length>10)return $(".error_msg").html("Please Enter 10 Digit Mobile No.").fadeIn().delay(3e3).fadeOut(),$("#mobile").focus(),!1;{if(0==onlyAlphabets(a))return $(".error_msg").html("Name should be alphabets only").fadeIn().delay(3e3).fadeOut(),$("#name").focus(),!1;var i=$("#mobile").intlTelInput("getSelectedCountryData").dialCode;$("#demo-modal-1").modal("toggle");a=document.getElementById("name").value;var l=document.getElementById("mobile").value;if(""==l)o="";else o=l;t=$("#stream_id").val(),s=(new Date).getTime();let n=generateString(20);i=null!=i?i:"",db.collection("messages").doc(t).collection("users").doc(n).set({user_id:n,country_code:i,name:a,phone:o,created_date:s,stream_id:t}),$("#user_id").val(n),$("#user_fname").val(a),$("#user_phone").val(o),$("#country_code").val(i);try{localStorage.setItem("user_id",n),localStorage.setItem("user_fname",a),localStorage.setItem("user_phone",o),localStorage.setItem("country_code",i)}catch(e){}insertMessage()}}}function onlyAlphabets(e){return!!/^[a-zA-Z ]*$/.test(e)}fbButton.addEventListener("click",(function(){return window.open("https://www.facebook.com/sharer/sharer.php?u="+url,"facebook-share-dialog","width=800,height=600"),!1})),$(".muteicon").click((function(){$(".tooltiptext").css("visibility","hidden"),$(this).find("img").toggle();var e=document.getElementById("livestreambro");e.muted?e.muted=!1:e.muted=!0})),$(document).ready((function(){$(".mobile-input").val("+91"),$(".mobile-input").intlTelInput({autoHideDialCode:!0,autoPlaceholder:"ON",dropdownContainer:document.body,formatOnDisplay:!0,hiddenInput:"full_number",initialCountry:"auto",nationalMode:!0,placeholderNumberType:"MOBILE",preferredCountries:["in"],separateDialCode:!0}),$(".message-submit").click((function(){""!=$("#user_id").val()?($("#demo-modal-1").modal("hide"),insertMessage()):($("#demo-modal-1").modal("show"),$(".close1").css("display","none"))})),"0000-00-00 00:00:00"!=$("#end_time").val()&&(localStorage.removeItem("user_id"),localStorage.removeItem("user_fname"),localStorage.removeItem("user_phone"),localStorage.removeItem("user_email"),localStorage.removeItem("poll_question_answer"));try{null!=localStorage.getItem("user_id")&&(res=localStorage.getItem("user_id"),$("#user_id").val(res)),null!=localStorage.getItem("user_fname")&&(res1=localStorage.getItem("user_fname"),$("#user_fname").val(res1)),null!=localStorage.getItem("user_phone")&&(res2=localStorage.getItem("user_phone"),$("#user_phone").val(res2)),null!=localStorage.getItem("user_email")&&(res3=localStorage.getItem("user_email"),$("#user_email_local").val(res3)),null!=localStorage.getItem("country_code")&&(res4=localStorage.getItem("country_code"),$("#country_code").val(res4))}catch(e){}""!=$("#user_id").val()?$(".rsvp-button").hide():$(".rsvp-button").show()})),sendEvent=function(e,t){var a=document.getElementById("name").value,s=document.getElementById("mobile").value,o=$("#mobile").intlTelInput("getSelectedCountryData").dialCode;if(""==a)return $(".err_user_cpassword").html("This is a required field.").fadeIn().delay(3e3).fadeOut(),$("#name").focus(),!1;if(""==s)return $(".err_user_cpassword").html("This is a required field.").fadeIn().delay(3e3).fadeOut(),$("#mobile").focus(),!1;if(0==onlyAlphabets(a))return $(".err_user_cpassword").html("Name should be alphabets only").fadeIn().delay(3e3).fadeOut(),$("#name").focus(),!1;$(".close1").css("display","block");s=$("#mobile").val();var i=Math.floor(1e3+9e3*Math.random());$("#otp_confirm").val(i),$.ajax({type:"POST",dataType:"json",url:"https://demo.goswirl.live/index.php/Live/otp",data:"mobile="+encodeURIComponent(s)+"&otp="+encodeURIComponent(i)+"&code="+encodeURIComponent(o),success:function(e){}}),$(e).trigger("next.m."+t)};const characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function generateString(e){let t="";const a=characters.length;for(let s=0;s<e;s++)t+=characters.charAt(Math.floor(Math.random()*a));return t}function insertMessage(){if($(window).width()>768){if(""==$(".message-input").val())return $(".message-input").focus(),!1}else if(""==$(".message-input-mobile").val())return $(".message-input-mobile").focus(),!1;sendMessage()}firebase.initializeApp({apiKey:"AIzaSyCWTGwzrHuwJY2yrmDcMm3Sm8Qfq1BtOw0",authDomain:"getnatty-1547727043139.firebaseapp.com",projectId:"getnatty-1547727043139",storageBucket:"getnatty-1547727043139.appspot.com"});var db=firebase.firestore();$(window).on("keydown",(function(e){if(13==e.which)return""!=$("#user_id").val()?($("#demo-modal-1").modal("hide"),insertMessage()):($("#demo-modal-1").modal("show"),$(".close1").css("display","none")),!1}));var streamId=$("#stream_id").val(),is_defer=$("#is_defer").val();function sendMessage(e){var t=$("#user_id").val(),a=$("#user_fname").val(),s=$("#user_phone").val(),o=(new Date).getTime();if($(window).width()>768)var i=document.getElementById("SLS-comment").value;else i=document.getElementById("SLS-comment-mobile").value;db.collection("messages").doc(streamId).collection("messages").get().then((e=>{size=e.size})),db.collection("messages").doc(streamId).collection("messages").add({cover_img:"",created_time:o,from:t,is_designer:!1,is_designer_seen:!1,message:i,name:a,profile:"",title:"",type:"text",user_percentage:"20",user_phone:s,flag:"1"}),$(".message-input").val(null),$(".message-input-mobile").val(null),$(".collapsable").css("display","none"),$(window).width()<768&&$(".action-bar").css("display","table-cell"),$(".message-textbox-div").css("width","50%"),$(".message-textbox-div").css("padding-right","0px")}db.collection("live_streams").doc(streamId).onSnapshot({includeMetadataChanges:!0},(e=>{if(1==e.exists){var t="";""==e.data().is_recorded&&"undefined"==e.data().is_recorded||(t=e.data().is_recorded),1==t?($("#livestatus").text("RECORDED"),$("#livestatus").addClass("recordingflag")):($("#livestatus").text("LIVE"),$("#livestatus").addClass("liveflag"))}else 2==is_defer&&($("#livestatus").text("UPCOMING"),$("#livestatus").addClass("upcoming-flag"),$("#viewcount").hide(),$(".mySwiper").hide())}));var $messages=$(".SLS-panel-scroll-mcustom"),comments_limit=(streamId=$("#stream_id").val(),$("#comments_limit").val());db.collection("messages").doc(streamId).collection("messages").orderBy("created_time","desc").limit(comments_limit).onSnapshot((e=>{if(size=e.size,e.docChanges().forEach((e=>{if(size>0?$("#comments-dot").show():$("#comments-dot").hide(),"1"===e.doc.data().flag)if("removed"===e.type)$("#message-"+e.doc.id).remove();else{var t=$("#designer_id").val(),a=convertMsToTime(e.doc.data().created_time);if(e.doc.data().from==t)var s="fillcolor",o="brand-time",i=' <img style="width: 30px;border-radius: 50%;" src="'+$("#brand_logo").val()+'" alt="Brand logo" title="'+e.doc.data().name+'" />';else s="",o="",i='<i class="fas fa-user-circle" style="font-size:30px"></i>';if(1==isValidUrl(e.doc.data().message)){var l=urlify(e.doc.data().message);$('<div id="message-'+e.doc.id+'"><div class="'+s+' msgcontent-div" style="margin: 5px 0px;width: 100%;"><div class="icon" style="display: table-cell;padding-top: 5px;">'+i+'</div><div class="msg-content" style="width: 100%;display: table-cell;vertical-align: top;"><p style="font-weight: bold;text-transform: capitalize; margin-bottom: 0px;font-size: 15px;">'+e.doc.data().name+'<span class="time '+o+'">'+a+"</span></p><p>"+l+"</p></div></div></div>").appendTo($(".SLS-comments-all")).addClass("new")}else $('<div id="message-'+e.doc.id+'"><div class="'+s+' msgcontent-div" style="margin: 5px 0px;width: 100%;"><div class="icon" style="display: table-cell;padding-top: 5px;">'+i+'</div><div class="msg-content" style="width: 100%;display: table-cell;vertical-align: top;"><p style="font-weight: bold;text-transform: capitalize; margin-bottom: 0px;font-size: 15px;">'+e.doc.data().name+'<span class="time '+o+'">'+a+"</span></p><p>"+e.doc.data().message+"</p></div></div></div>").appendTo($(".SLS-comments-all")).addClass("new")}})),"none"==$("#myBtn").css("display"))topFunction();else{var t=$(".SLS-panel-scroll-mcustom")[0];t.scrollHeight>t.clientHeight?$("#myBtn").css("display","block"):$("#myBtn").css("display","none")}}));const isValidUrl=e=>null!==e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);function convertMsToTime(e){var t=new Date(e);timezone=t.toString();var a=new Date(timezone);return localtime=a.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),localtime}function updateScrollbar(){var e=$(".SLS-panel-scroll-mcustom");e.mCustomScrollbar(),e.mCustomScrollbar("update").mCustomScrollbar("scrollTo","bottom",{scrollInertia:10,timeout:0})}$("body").on("click",".SLS-product-buynow-btn,.showcase-slider-click",(function(){var e=$(this).attr("data-proid"),t=$(this).attr("data-desid"),a=$(this).attr("data-protitle"),s=$(this).attr("data-proimg"),o=$(this).attr("data-redirection"),i=$("#user_id").val(),l=$("#user_fname").val(),n=$("#user_phone").val(),r=$("#country_code").val(),d=(new Date).getTime();let c=generateString(20);db.collection("messages").doc(streamId).collection("buy_now").doc(c).set({user_id:i,country_code:r,name:l,phone:n,created_date:d,stream_id:streamId,product_id:e,product_title:a,product_image:s,product_url:o,designer_id:t}),"listing"==getUrlParameter("page")&&sendTimeSL(),window.open(o,"_blank")}));end_time=$("#end_time").val();function pinheightweb(){var e=$(".messages-pin").height();e="calc(100% - "+(e+=80)+"px)",$(".SLS-panel-scroll-mcustom").css("height",e)}function reloadOnceLive(){db.collection("live_streams").doc(streamId).onSnapshot((e=>{2==$("#is_defer").val()?($("#black-screen").hide(),$("#remote-media").show(),$(".muteicon").show(),$(".share-div").show(),$(".live-status").show(),$(".SL-schedule-timer").show()):($("#remote-media").hide(),$("#black-screen").show(),$(".live-status").hide(),$(".view-count-live").hide()),$(".product-img-list").hide(),e.exists&&db.collection("live_streams").doc(streamId).onSnapshot({includeMetadataChanges:!0},(e=>{1==e.data().mux_status&&(window.location=window.location.href)}))}))}function urlify(e){if(-1!==e.indexOf("https")){return e.replace(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,(function(e){return/^((http|https|ftp):\/\/)/.test(e)||(e="https://"+e),'<a style="word-break:break-all" href="'+e+'" target="_blank">'+e+"</a>"}))}return e}function nFormatter(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e5?(e/1e5).toFixed(1).replace(/\.0$/,"")+"L":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e}function ask_que_submit(e,t){var a=$("#base_url").val(),s=$("#user_id").val(),o=$("#user_fname").val(),i=$("#user_phone").val(),l=document.getElementById("inquiry_text_ask").value;if(""==l)return $(".err_ask").html("This is a required field.").fadeIn().delay(3e3).fadeOut(),$("#inquiry_text_ask").focus(),!1;""==s?($("#ask_que").modal("hide"),$("#inquiry_text_ask").val(l),$("#demo-modal-1").modal("show")):$.ajax({type:"POST",dataType:"json",url:a+"index.php/Live/ask_que_details",data:"user_id="+encodeURIComponent(s)+"&user_fname="+encodeURIComponent(o)+"&user_phone="+encodeURIComponent(i)+"&designer_id="+encodeURIComponent(e)+"&msg="+encodeURIComponent(l)+"&live_id="+encodeURIComponent(t)+"&swirls_id="+encodeURIComponent(""),success:function(e){$("#ask_que").modal("hide"),$("#inquiry_text_ask").val(""),alert(e.message)}})}function rsvp_submit(){var e=$("#stream_id").val();let t=generateString(20);var a=document.getElementById("rsvp-name").value,s=document.getElementById("rsvp-email").value,o=document.getElementById("rsvp-phone").value,i=document.forms["rsvp-form"].agree,l=(new Date).getTime();if(""==a)return $(".form-validation-error").html("This is a required fields.").fadeIn().delay(3e3).fadeOut(),$("#rsvp-name").focus(),!1;if(a.length<3)return $(".form-validation-error").html("Please enter 3 latter.").fadeIn().delay(3e3).fadeOut(),$("#rsvp-name").focus(),!1;if(""==s)return $(".form-validation-error").html("This is a required fields.").fadeIn().delay(3e3).fadeOut(),$("#rsvp-email").focus(),!1;if(""==o)return $(".form-validation-error").html("This is a required fields.").fadeIn().delay(3e3).fadeOut(),$("#rsvp-phone").focus(),!1;if(!i.checked)return $(".error_msg_rsvp").html("You must agree with the terms and conditions").fadeIn().delay(3e3).fadeOut(),$("#checkbox").focus(),!1;$("#user_id").val(t),$("#user_fname").val(a),$("#user_phone").val(o);try{localStorage.setItem("user_id",t),localStorage.setItem("user_fname",a),localStorage.setItem("user_email",s),localStorage.setItem("user_phone",o),localStorage.setItem("is_rsvp",1)}catch(e){}db.collection("messages").doc(e).collection("users").doc(t).set({user_id:t,name:a,email:s,phone:o,created_date:l,stream_id:e,is_rsvp:1}),alert("RSVP form submitted successfully"),$("#exampleModal").modal("hide"),$(".modal-backdrop").remove(),$(".rsvp-button").hide()}if(db.collection("live_streams").doc(streamId).onSnapshot((e=>{e.exists?($(".view-count-live").show(),$(".flag").show(),$("#remote-media").show(),$(".product-img-list").show(),$(".SLS-control-panel").show(),$("#black-screen").hide(),$(".SL-schedule-timer").hide(),1==e.data().is_paused&&($("#remote-media").hide(),$(".product-img-list").hide(),$(".SLS-control-panel").hide(),$("#black-screen").show(),$("#stream_span").html("paused & will resume shortly"))):"0000-00-00 00:00:00"==end_time?($(".view-count-live").hide(),2!=is_defer&&($(".flag").hide(),$(".offer-icon").addClass("offer-position"),$(".SLS-comments-panel").addClass("banner-comments-bg")),$(".SSV-heart-flaws-btn").hide(),$("#remote-media").hide(),$("#black-screen").show(),$(".product-img-list").hide(),$(window).width()<768?$(".SLS-control-panel").show():$(".SLS-control-panel").hide(),$(".muteicon").hide(),$(window).width()>768&&($(".SLS-products-panel-close .fas").hide(),$(".SLS-comments-panel-close .fas").hide())):($("#remote-media").show(),$("#black-screen").hide())})),db.collection("live_streams").doc(streamId).onSnapshot((e=>{if(e.exists){var t=e.data().pin_comment_id;if(""!=t&&null!=t){db.collection("messages").doc(streamId).collection("messages").doc(t).get().then((e=>{if(e.exists){$(".messages-pin").empty(),$(".messages-pin-mobile").empty();var t=' <img style="width: 30px;border-radius: 50%;" src="'+$("#brand_logo").val()+'" alt="Brand logo" title="'+e.data().name+'" />';if(1==isValidUrl(e.data().message)){var a=urlify(e.data().message);$('<div id="message-'+e.id+'"><div class="pin-main-div"><div class="icon pin-user-pic">'+t+'</div><div class="msg-content pin-msg-content"><p>'+e.data().name+"</p><p>"+a+'</p></div><div class="pin-main-icon"><span class="pinicon"><i class="icon-pushpin"></i></span></div></div>').appendTo($(".messages-pin")).addClass("new"),$('<div id="message-'+e.id+'"><div class="pin-main-div"><div class="icon pin-user-pic">'+t+'</div><div class="msg-content pin-msg-content"><p>'+e.data().name+'<span class="pinicon"><i class="icon-pushpin"></i>PINNED</span></p><p>'+a+"</p></div></div>").appendTo($(".messages-pin-mobile")).addClass("new")}else $('<div id="message-'+e.id+'"><div class="pin-main-div"><div class="icon pin-user-pic">'+t+'</div><div class="msg-content pin-msg-content"><p>'+e.data().name+"</p><p>"+e.data().message+'</p></div><div class="pin-main-icon"><span class="pinicon"><i class="icon-pushpin"></i></span></div></div>').appendTo($(".messages-pin")).addClass("new"),$('<div id="message-'+e.id+'"><div class="pin-main-div"><div class="icon pin-user-pic">'+t+'</div><div class="msg-content pin-msg-content"><p>'+e.data().name+'<span class="pinicon"><i class="icon-pushpin"></i>PINNED</span></p><p>'+e.data().message+"</p></div></div>").appendTo($(".messages-pin-mobile")).addClass("new")}else $(".messages-pin").empty(),$(".messages-pin-mobile").empty();let s=$(".messages-pin-mobile").height()+actionbar_size+recordingcontrol_size+$("#bottom-showcase-products").height()-5.5;$(".SLS-comments-panel").css("bottom",s);var o=actionbar_size+recordingcontrol_size+$("#bottom-showcase-products").height();$(".messages-pin-mobile").css("bottom",o),$(window).width()>768&&pinheightweb()}))}else{$(".messages-pin").empty(),$(".messages-pin-mobile").empty();let e=$(".messages-pin-mobile").height()+actionbar_size+recordingcontrol_size+$("#bottom-showcase-products").height()+5;$(".SLS-comments-panel").css("bottom",e);var a=actionbar_size+recordingcontrol_size+$("#bottom-showcase-products").height();$(".messages-pin-mobile").css("bottom",a)}$(window).width()>768&&pinheightweb()}})),$(document).ready((function(){db.collection("live_streams").doc(streamId).onSnapshot((e=>{e.exists||reloadOnceLive()}))})),db.collection("live_streams").doc(streamId).onSnapshot((e=>{e.exists?db.collection("live_streams").doc(streamId).onSnapshot({includeMetadataChanges:!0},(e=>{1==e.data().comments_status?($(".SLS-comment-form").show(),$(".message-textbox-div").show(),$("#SLS-comment-mobile").prop("disabled",!1),$(".message-submit").prop("disabled",!1)):($(".SLS-comment-form").hide(),$(".message-textbox-div").css("display","none !important"),$("#SLS-comment-mobile").prop("disabled",!0),$(".message-submit").prop("disabled",!0)),1==e.data().fire_status?$("#gif").show():$("#gif").hide();var t=e.data().ivs_viewer_count;null!=t||null!=t?(result=nFormatter(t),$("#view-count").text(result)):$("#view-count").text(0)})):$("#gif").hide()})),$("#tabs-nav li:first-child").addClass("active"),$(".tab-content").hide(),$(".tab-content:first").show(),$("#tabs-nav li").click((function(){if($(window).width()>768){$("#tabs-nav li").removeClass("active"),$(this).addClass("active"),$(".tab-content").hide(),$(".messages-pin").toggle(),$(".SLS-panel-scroll-mcustom").toggle(),$(".SLS-comment-post").toggle();$(this).find("a").attr("href");return"live-chat-tabs"==$(this).find("a").attr("id")?($("#Offers").hide(),$(".messages-pin").show(),$(".SLS-panel-scroll-mcustom").show(),$(".SLS-comment-post").show(),$(".tabs").removeClass("h-100"),$("#tabs-content").removeClass("h-100"),$("#Offers").removeClass("h-100")):($(".tabs").addClass("h-100"),$("#tabs-content").addClass("h-100"),$("#Offers").addClass("h-100"),$(".SLS-panel-scroll-mcustom").hide(),$(".messages-pin").hide(),$(".SLS-comment-post").hide(),$("#Offers").show()),!1}$("#live-chat-tabs").removeAttr("href")})),2==(is_defer=$("#is_defer").val())){var id="undefined",starting_time=$("#starting_time").val(),countDownDate=[],x=[],now=[],distance=[],days=[],hours=[],minutes=[],seconds=[];countDownDate[id]=new Date(starting_time.replaceAll("-","/")).getTime(),x[id]=setInterval((function(){now[id]=(new Date).getTime(),distance[id]=countDownDate[id]-now[id],days[id]=Math.floor(distance[id]/864e5),hours[id]=Math.floor(distance[id]%864e5/36e5),minutes[id]=Math.floor(distance[id]%36e5/6e4),seconds[id]=Math.floor(distance[id]%6e4/1e3),document.getElementById(`${id}day`).innerHTML=String(days[id]).padStart(2,"0"),document.getElementById(`${id}hour`).innerHTML=String(hours[id]).padStart(2,"0"),document.getElementById(`${id}min`).innerHTML=String(minutes[id]).padStart(2,"0"),document.getElementById(`${id}sec`).innerHTML=String(seconds[id]).padStart(2,"0"),distance[id]<0&&(clearInterval(x[id]),$(".SL-schedule-timer").hide(),document.getElementById(`${id}day`).innerHTML="00",document.getElementById(`${id}hour`).innerHTML="00",document.getElementById(`${id}min`).innerHTML="00",document.getElementById(`${id}sec`).innerHTML="00")}),1e3)}function switchbtn(e){var t=$("#database").val(),a=$("#options_bc").val(),s=$("#base_url").val(),o=$("#user_id").val(),i=$("#user_fname").val(),l=$("#user_phone").val(),n=$("#poll-question-number").val(),r=$("#poll-question-title").val(),d=$("#stream_id").val();if(""==o)$('input[name="question1"]').prop("checked",!1),$("#demo-modal-1").modal("show"),$(".close1").css("display","none");else{$("#demo-modal-1").modal("hide");var c=$("#answer-text-"+e).text();$.ajax({type:"POST",dataType:"json",url:s+"index.php/Live/question_answer",data:"user_id="+encodeURIComponent(o)+"&user_fname="+encodeURIComponent(i)+"&user_phone="+encodeURIComponent(l)+"&question="+encodeURIComponent(n)+"&answer="+encodeURIComponent(c)+"&question_title="+encodeURIComponent(r)+"&stream_id="+encodeURIComponent(d)+"&database="+encodeURIComponent(t),success:function(e){$("input:radio[name=question1]").attr("disabled",!0),$(".total-votes-div").show(),$(".total-votes-div").addClass("d-inline"),$(".feedback").show();var t=e.data.percentage;$("#totalVotes").text(e.data.total_votes),$.each(t,(function(e,t){e+=1;var s=t+"%";$(".highlight-answer"+e).css("width","0%"),$(".highlight-answer"+e).animate({width:s},1e3),$(".highlight-answer"+e).css("background-color",a),$(".feedback-answer"+e).text(s),localStorage.setItem("poll_question_answer",n),0==t?$("#answer-text-"+e).addClass("options-text-add"):$("#answer-text-"+e).css("color","#fff")}))}})}}function sendTimeSL(){vdo=document.getElementById("livestreambro"),parent.postMessage({action:"updateStreamTime",data:Math.floor("0000-00-00 00:00:00"!=end_time?vdo.currentTime:0)},"*")}function sendRefreshSL(){parent.postMessage({action:"refreshStreamPage",data:!0},"*")}db.collection("live_streams").doc(streamId).onSnapshot({includeMetadataChanges:!0},(e=>{1==e.exists&&(null!=e.data().click_heart_like&&(SWIRLHeartFlaws(),SWIRLHeartFlaws(),SWIRLHeartFlaws()))})),$(document).ready((function(){var e;if("0000-00-00 00:00:00"==$("#end_time").val()){var t=$("#database").val();db.collection("live_streams").doc(streamId).get().then((a=>{if(a.exists){var o=$("#base_url").val();db.collection("polls_questions_stream").doc(streamId).onSnapshot((a=>{if(a.exists){var i=a.data().poll_question_id;if(""!=i&&null!=i)localStorage.getItem("poll_question_answer")!=i&&($(".SLS-share-panel").is(":visible")&&$(".SLS-share-panel-close").click(),$(".SLS-offer-panel").is(":visible")&&$(".SLS-offer-panel-close").click(),$(".SLS-products-panel").is(":visible")&&$(window).width()<768&&$(".SLS-products-panel-close").click(),$(".SLS-comments-panel").is(":visible")&&$(window).width()<768&&$(".SLS-comments-panel-close").click(),$(".SLS-ask-panel").is(":visible")&&$(".SLS-ask-panel-close").click(),$(".SLS-poll-panel").css("bottom","0px"),$(".SLS-poll-panel").show(),setTimeout((()=>{$(".SLS-poll-panel").css("transform","translateY(0%)")}),10),$.ajax({type:"POST",dataType:"json",url:o+"index.php/Live/fetch_questions",data:"stream_id="+encodeURIComponent(streamId)+"&poll_question_id="+encodeURIComponent(i)+"&database="+encodeURIComponent(t),success:function(t){$("#add-poll").empty(),numbersString=t.data.options,queAdd='<div class="d-table" style="width: 100%;"><p class="d-table-cell share-panel-title" style="font-weight: 500;color:#fff;">'+t.data.question_title+'</p></div><div class="share-btn text-center mcq"><input type="hidden" id="poll-question-number" value="'+t.data.questions_id+'"><input type="hidden" id="poll-question-title" value="'+t.data.question_title+'">';var a=numbersString.split(","),o=a.length;$.each(a,(function(e,t){e+=1,queAdd+='<label class="mcq-answer"><input type="radio" name ="question1" id="answer'+e+'" value="'+t+'" onchange="switchbtn('+e+')"><div class="highlight highlight-answer'+e+'"></div><p class="options-text" id="answer-text-'+e+'">'+t+'</p><span class="feedback feedback-answer'+e+'"></span></label>'})),queAdd+="</div>",o>3&&(queAdd+='<div class="poll-scroll-text"><span>Scroll down</span><i class="fas fa-chevron-down"></i></div>'),queAdd+='<div class="poll-bottom-div"><div class="poll-time-progressbar"><div id="progressBarPoll" style="width: 1px;"></div></div><div class="bottom-action"><div class="total-votes-div" style="display:none"><img class="poll-users" src="https://cdn.jsdelivr.net/gh/SwirlAdmin/swirl-cdn/assets/images/webp/user-vote.webp"><span class="total_votes"><span id="totalVotes">0</span> votes</span></div><div class="d-inline"><span class="dot"></span><span class="question-timer">00:'+t.data.countdown_time+'</span></div><div class="d-inline"><span class="float-right skip-txt SLS-poll-panel-close">Skip</span></div></div></div>',$("#add-poll").append(queAdd),$(".mcq").on("scroll",s),function(t){e&&clearInterval(e);var a=(new Date).getTime()+1e3*t,s=$(".poll-time-progressbar").width();$(".question-timer").text(t+" sec"),$("#progressBarPoll").css("width","0px"),$(".SLS-poll-panel").show(),e=setInterval((function(){var o=(new Date).getTime(),i=a-o,l=Math.floor(i/1e3);$(".question-timer").text(l+" sec");var n=s*((1e3*t-i)/(1e3*t));if($("#progressBarPoll").css("width",n+"px"),i<0){clearInterval(e),$(".question-timer").text("0 sec"),$("#progressBarPoll").css("width",s+"px");let t="translateY(100%)";$(".SLS-poll-panel").css("transform",t),setTimeout((()=>{$(".SLS-poll-panel").hide()}),500)}}),1e3)}(t.data.countdown_time)}}));else{let e="translateY(100%)";$(".SLS-poll-panel").css("transform",e),setTimeout((()=>{$(".SLS-poll-panel").hide()}),500)}}}))}}))}$("body").on("click",".SLS-poll-panel-close",(function(){$(".SLS-poll-panel").css("transform","translateY(100%)"),setTimeout((()=>{$(".SLS-poll-panel").hide()}),500)}));var a=0;function s(e){var t=$(this),s=t.scrollTop(),o=t[0].scrollHeight;s+t[0].clientHeight>=o?($(".poll-scroll-text span").text("Scroll up"),$(".poll-scroll-text i").removeClass("fa-chevron-down").addClass("fa-chevron-up")):0===s?($(".poll-scroll-text span").text("Scroll down"),$(".poll-scroll-text i").removeClass("fa-chevron-up").addClass("fa-chevron-down")):s>a?($(".poll-scroll-text span").text("Scroll up"),$(".poll-scroll-text i").removeClass("fa-chevron-down").addClass("fa-chevron-up")):($(".poll-scroll-text span").text("Scroll down"),$(".poll-scroll-text i").removeClass("fa-chevron-up").addClass("fa-chevron-down")),a=s}}));var getUrlParameter=function(e){var t,a,s=window.location.search.substring(1).split("&");for(a=0;a<s.length;a++)if((t=s[a].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1]);return!1};let mybutton=document.getElementById("myBtn");function topFunction(){$(".SLS-panel-scroll-mcustom").animate({scrollTop:$(".SLS-panel-scroll-mcustom").get(0).scrollHeight},0)}function isScrollBottom(){var e=$(".SLS-panel-scroll-mcustom");return e.scrollTop()+e.innerHeight()>=e[0].scrollHeight-20}function executeCode(){var e=$("#designer_id").val(),t=new Date,a=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear();"19791"!=e&&"23520"!=e&&"19187"!=e&&"18354"!=e||(localStorage.getItem("swirl_live_"+a+"_"+s)?db.collection(e+"_stream_users").doc("swirl_live_"+a+"_"+s).get().then((t=>{t.exists?db.collection(e+"_stream_users").doc("swirl_live_"+a+"_"+s).update({t_users:firebase.firestore.FieldValue.increment(1)}):db.collection(e+"_stream_users").doc("swirl_live_"+a+"_"+s).set({t_users:1,u_users:1})})):(localStorage.setItem("swirl_live_"+a+"_"+s,"1"),db.collection(e+"_stream_users").doc("swirl_live_"+a+"_"+s).get().then((t=>{t.exists?db.collection(e+"_stream_users").doc("swirl_live_"+a+"_"+s).update({u_users:firebase.firestore.FieldValue.increment(1),t_users:firebase.firestore.FieldValue.increment(1)}):db.collection(e+"_stream_users").doc("swirl_live_"+a+"_"+s).set({u_users:1,t_users:1})}))))}function executeCode_onload(){var e=$("#designer_id").val(),t=new Date,a=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear();"19791"!=e&&"23520"!=e&&"19187"!=e&&"18354"!=e||(localStorage.getItem("swirl_live_on_load_"+a+"_"+s)?db.collection(e+"_stream_users_onload").doc("swirl_live_"+a+"_"+s).get().then((t=>{t.exists?db.collection(e+"_stream_users_onload").doc("swirl_live_"+a+"_"+s).update({t_users:firebase.firestore.FieldValue.increment(1)}):db.collection(e+"_stream_users_onload").doc("swirl_live_"+a+"_"+s).set({t_users:1,u_users:1})})):(localStorage.setItem("swirl_live_on_load_"+a+"_"+s,"1"),db.collection(e+"_stream_users_onload").doc("swirl_live_"+a+"_"+s).get().then((t=>{t.exists?db.collection(e+"_stream_users_onload").doc("swirl_live_"+a+"_"+s).update({u_users:firebase.firestore.FieldValue.increment(1),t_users:firebase.firestore.FieldValue.increment(1)}):db.collection(e+"_stream_users_onload").doc("swirl_live_"+a+"_"+s).set({u_users:1,t_users:1})}))))}$(".SLS-panel-scroll-mcustom").scroll((function(){isScrollBottom()?$("#myBtn").css("display","none"):$("#myBtn").css("display","block")})),setTimeout(executeCode,5e3),executeCode_onload();var productsid=$("#product_ids").val();if(""==productsid){const e=db.collection("live_streams").doc(streamId);let t=!1;e.onSnapshot({includeMetadataChanges:!0},(e=>{if(e.exists){!0!==e.data().product_status||t||(t=!0,productupdates())}}))}function productupdates(){var e=$("#database").val(),t=$("#base_url").val(),a=$("#designer_id").val();$.ajax({type:"POST",dataType:"json",url:t+"index.php/Live/productupdates_vivo",data:"stream_id="+encodeURIComponent(streamId)+"&database="+encodeURIComponent(e),beforeSend:function(){},success:function(e){if("1"==e.status_code){$("#product_count").text(e.data.product_count),$("#product_ids").val(e.data.product_ids),$(".SLS-added-products-static").hide(),$(".SLS-added-products-dynamic").empty();for(var t=0;t<e.data.product.length;t++){var s=e.data.product[t].link,o="";if("0"!=e.data.product_count){if("0"==e.data.is_product_price)var i="mb-2",l="d-none";else i="",l="d-block";if(1==e.data.product[t].is_star)var n="starproduct",r="inline";else n="",r="d-none";var d="";if(e.data.product[t].product_sell_price!=e.data.product[t].product_price)o='<s class="pl-2 cl-red">'+e.data.currencysymbols+e.data.product[t].product_price+"</s> ",d='<span class="dis_per">'+e.data.product[t].discount_per+"%</span>";$(".SLS-added-products-dynamic").append('<div class="d-flex align-items-start SLS-product-tile '+n+'" id="pro-detail-'+e.data.product[t].product_id+'"><div class="SLS-product-image"><img src="'+e.data.product[t].product_img_url+'" alt="Product Image" title="Product Image" /></div><div class="SLS-product-content"><p class="m-0 '+i+'" title="'+e.data.product[t].product_title+'">'+e.data.product[t].product_title+'</p><label class="m-0 mb-2 '+l+'">'+e.data.currencysymbols+e.data.product[t].product_sell_price+"<del>"+o+"</del>"+d+'</label><button type="button" class="SLS-product-buynow-btn" data-protitle="'+e.data.product[t].product_title+'" data-proimg="'+e.data.product[t].product_img_url+'" data-proid="'+e.data.product[t].product_id+'" data-redirection="'+s+'" data-desid="'+a+'">'+e.data.cta_btn+'</button></div><div class="'+r+'"><img class="star-animation" src="https://cdn.jsdelivr.net/gh/SwirlAdmin/swirl-cdn/assets/images/star-animation.gif" class="setproduct"></div></div>')}}$(window).width()<768&&($(".SLS-show-products").closest(".position-relative").addClass("d-inline"),$(".SLS-show-products").closest(".position-relative").show(),$(".SLS-products-panel").css("height","50%"))}}})}
//# sourceMappingURL=/sm/9e1cc9b451e065bb19375dd9b1b947966b1806ce24ec6c62dc766efa4988131f.map